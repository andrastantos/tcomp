Version 4
SHEET 1 1664 808
WIRE 288 -272 -752 -272
WIRE 512 -272 288 -272
WIRE 880 -272 512 -272
WIRE 1248 -272 880 -272
WIRE 880 -160 880 -272
WIRE 880 -160 784 -160
WIRE 992 -160 880 -160
WIRE 784 -80 784 -160
WIRE 992 -80 992 -160
WIRE 1248 -80 1248 -272
WIRE 880 -64 832 -64
WIRE 944 -64 880 -64
WIRE 288 64 288 -272
WIRE 512 64 512 -272
WIRE 784 64 784 16
WIRE 880 64 880 -64
WIRE 880 64 784 64
WIRE 992 64 992 16
WIRE 1088 64 992 64
WIRE 1408 64 1088 64
WIRE 1584 64 1472 64
WIRE 240 144 112 144
WIRE 464 144 400 144
WIRE 784 144 784 64
WIRE 992 144 992 64
WIRE -256 224 -480 224
WIRE -96 224 -256 224
WIRE 112 224 112 144
WIRE 112 224 -16 224
WIRE 288 224 288 160
WIRE 736 224 288 224
WIRE 1120 224 1040 224
WIRE -256 272 -336 272
WIRE 16 272 -256 272
WIRE 400 272 400 144
WIRE 400 272 96 272
WIRE 512 272 512 160
WIRE 1120 272 1120 224
WIRE 1120 272 512 272
WIRE 1584 288 1584 64
WIRE 784 304 784 240
WIRE 896 304 784 304
WIRE 992 304 992 240
WIRE 992 304 896 304
WIRE 1248 304 1248 0
WIRE 1248 304 1136 304
WIRE -752 336 -752 -272
WIRE -480 336 -480 224
WIRE -336 336 -336 272
WIRE 896 336 896 304
WIRE 1248 336 1248 304
WIRE 1136 416 1136 304
WIRE 1136 416 944 416
WIRE 1200 416 1136 416
WIRE 288 480 288 224
WIRE 512 480 512 272
WIRE -480 496 -480 416
WIRE -416 496 -480 496
WIRE -336 496 -336 416
WIRE -336 496 -416 496
WIRE -416 560 -416 496
WIRE -752 720 -752 416
WIRE -416 720 -416 640
WIRE -416 720 -752 720
WIRE 288 720 288 560
WIRE 288 720 -416 720
WIRE 512 720 512 560
WIRE 512 720 288 720
WIRE 896 720 896 432
WIRE 896 720 512 720
WIRE 1040 720 896 720
WIRE 1248 720 1248 432
WIRE 1248 720 1040 720
WIRE 1584 720 1584 368
WIRE 1584 720 1248 720
WIRE 1040 768 1040 720
FLAG 1088 64 OUT
FLAG 1040 768 0
FLAG -256 224 IN_P
FLAG -256 272 IN_N
SYMBOL nmos 736 144 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 1232 -96 R0
SYMATTR InstName R1
SYMATTR Value {Ri}
SYMBOL nmos 1200 336 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL nmos 944 336 M0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL nmos 1040 144 M0
SYMATTR InstName M4
SYMATTR Value 2N7002
SYMBOL voltage -480 320 R0
WINDOW 3 -47 -133 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} 500k 0 0 0)
SYMATTR InstName V1
SYMBOL voltage -336 320 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} 500k 0 0 180)
SYMATTR InstName V2
SYMBOL voltage -752 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {VCC}
SYMBOL cap 1472 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res 1568 272 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL pmos 832 16 R180
SYMATTR InstName M5
SYMATTR Value BSS84
SYMBOL pmos 944 16 M180
SYMATTR InstName M6
SYMATTR Value BSS84
SYMBOL voltage -416 544 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE({Vcm} {Vdd} 5k 0 0 180)
SYMATTR InstName V4
SYMBOL res 0 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 112 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL nmos 240 64 R0
SYMATTR InstName M7
SYMATTR Value 2N7002
SYMBOL nmos 464 64 R0
SYMATTR InstName M8
SYMATTR Value 2N7002
SYMBOL res 272 464 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 496 464 R0
SYMATTR InstName R6
SYMATTR Value 1k
TEXT -784 792 Left 2 !.tran 1000u
TEXT 1400 -184 Left 2 !.param VCC=10
TEXT 1400 -152 Left 2 !.param Ri=250
TEXT 1400 -120 Left 2 !.param Vcm=5
TEXT 1400 -88 Left 2 !.param Vdiff=10m
TEXT 1112 -120 Left 2 !;.step param Vcm 1 15 1
TEXT 1400 -56 Left 2 !.param Vdd=100m
